{"remainingRequest":"F:\\HANOICAR_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HANOICAR_frontend\\src\\views\\portfolio\\list-car\\ListCar.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HANOICAR_frontend\\src\\views\\portfolio\\list-car\\ListCar.vue","mtime":1672052069878},{"path":"F:\\HANOICAR_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672052217027},{"path":"F:\\HANOICAR_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1672052221302},{"path":"F:\\HANOICAR_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672052217027},{"path":"F:\\HANOICAR_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1672052203919}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRm9ybUNyZWF0ZUNhciBmcm9tICIuL0Zvcm1DcmVhdGVDYXIudnVlIjsNCmltcG9ydCBheGlvc0lucyBmcm9tICJAL2xpYnMvYXhpb3NDb25maWciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgdXBkYXRlOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiBudWxsLA0KICAgIH0sDQogIH0sDQoNCiAgY29tcG9uZW50czogew0KICAgIEZvcm1DcmVhdGVDYXIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZlYXR1cmVzOiBbXSwNCiAgICAgIGNhcjoge30sDQogICAgICBmaWVsZHM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGtleTogIm5hbWUiLA0KICAgICAgICAgIGxhYmVsOiAiVMOqbiBYZSIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJ0eXBlIiwNCiAgICAgICAgICBsYWJlbDogIkxv4bqhaSBYZSIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJzZWF0IiwNCiAgICAgICAgICBsYWJlbDogIlPhu5EgZ2jhur8iLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiY29sbGF0ZXJhbCIsDQogICAgICAgICAgbGFiZWw6ICJUaeG7gW4gxJHhurd0IGPhu41jIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogInByaWNlIiwNCiAgICAgICAgICBsYWJlbDogIkdpw6EgVGh1w6ogWGUiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiZmVhdHVyZXMiLA0KICAgICAgICAgIGxhYmVsOiAiVMOtbmggTsSDbmciLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiYWN0aW9uIiwNCiAgICAgICAgICBsYWJlbDogIiIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgbGlzdENhcjogW10sDQogICAgICBsaXN0Q2FyVXBkYXRlOiB7fSwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbmV3Y2FyRmVhdHVyZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzOw0KICAgIH0sDQogICAgbmV3Q2FyRGF0YShlbGVtZW50KSB7DQogICAgICB0aGlzLmxpc3RDYXIucHVzaChlbGVtZW50LmRhdGEpOw0KICAgIH0sDQogICAgRGVsZXRlQ2FyKGlkKSB7DQogICAgICBheGlvc0lucw0KICAgICAgICAuZGVsZXRlKGAvY2FyLyR7aWR9YCkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RDYXIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChpZCA9PT0gdGhpcy5saXN0Q2FyW2ldLl9pZCkgew0KICAgICAgICAgICAgICB0aGlzLmxpc3RDYXIuc3BsaWNlKGksIDEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IiKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBVcGRhdGVDYXIoKSB7DQogICAgICBjb25zb2xlLmxvZygiVXBkYXRlIik7DQogICAgfSwNCiAgICBEZXRhaWxDYXIoaWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJEZXRhaWwiLCBpZCk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2Nhci8ke2lkfWApOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8gRmV0Y2ggYWxsIGNhcnMNCiAgICBheGlvc0lucw0KICAgICAgLmdldCgiL2Nhci9hbGwiKQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHRoaXMubGlzdENhciA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdENhcik7DQogICAgICB9KQ0KICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coImVycm9yIik7DQogICAgICB9KTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["ListCar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListCar.vue","sourceRoot":"src/views/portfolio/list-car","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"d-flex flex-row\">\r\n      <h1 class=\"mr-10px\">Tạo xe bởi quản trị viên:</h1>\r\n      <FormCreateCar\r\n        :update=\"listCarUpdate\"\r\n        @newCarData=\"newCarData\"\r\n        @newcarFeature=\"newcarFeature\"\r\n        class=\"mb-16px\"\r\n      >\r\n      </FormCreateCar>\r\n    </div>\r\n\r\n    <h1 class=\"list__car--header\">DANH SÁCH XE:</h1>\r\n\r\n    <b-table responsive striped hover :fields=\"fields\" :items=\"listCar\">\r\n      <template #cell(name)=\"car\">\r\n        <p class=\"text-capitalize\">{{ car.item.name }}</p>\r\n      </template>\r\n      <template #cell(type)=\"car\">\r\n        <p class=\"text-capitalize\">\r\n          {{\r\n            car.item.type == \"xe-tu-lai\"\r\n              ? \"Xe tự lái\"\r\n              : car.item.type == \"xe-co-tai-xe\"\r\n              ? \"Xe có tài xế\"\r\n              : \"\"\r\n          }}\r\n        </p>\r\n      </template>\r\n      <template #cell(seat)=\"car\">\r\n        <p>{{ car.item.seat }}</p>\r\n      </template>\r\n      <template #cell(collateral)=\"car\">\r\n        <p>{{ car.item.collateral }}</p>\r\n      </template>\r\n      <template #cell(price)=\"car\">\r\n        <p>{{ car.item.price }}</p>\r\n      </template>\r\n      <template #cell(features)=\"car\">\r\n        <p>{{ car.item.features }}</p>\r\n      </template>\r\n      <template #cell(action)=\"car\">\r\n        <div class=\"d-flex\">\r\n          <b-button @click=\"DeleteCar(car.item._id)\" class=\"mr-16px\">\r\n            Delete\r\n          </b-button>\r\n          <b-button @click=\"UpdateCar()\" class=\"mr-16px\"> Update </b-button>\r\n          <b-button @click=\"DetailCar(car.item._id)\"> Detail </b-button>\r\n        </div>\r\n      </template>\r\n    </b-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormCreateCar from \"./FormCreateCar.vue\";\r\nimport axiosIns from \"@/libs/axiosConfig\";\r\n\r\nexport default {\r\n  props: {\r\n    update: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n\r\n  components: {\r\n    FormCreateCar,\r\n  },\r\n  data() {\r\n    return {\r\n      features: [],\r\n      car: {},\r\n      fields: [\r\n        {\r\n          key: \"name\",\r\n          label: \"Tên Xe\",\r\n        },\r\n        {\r\n          key: \"type\",\r\n          label: \"Loại Xe\",\r\n        },\r\n        {\r\n          key: \"seat\",\r\n          label: \"Số ghế\",\r\n        },\r\n        {\r\n          key: \"collateral\",\r\n          label: \"Tiền đặt cọc\",\r\n        },\r\n        {\r\n          key: \"price\",\r\n          label: \"Giá Thuê Xe\",\r\n        },\r\n        {\r\n          key: \"features\",\r\n          label: \"Tính Năng\",\r\n        },\r\n        {\r\n          key: \"action\",\r\n          label: \"\",\r\n        },\r\n      ],\r\n      listCar: [],\r\n      listCarUpdate: {},\r\n    };\r\n  },\r\n  methods: {\r\n    newcarFeature() {\r\n      return this.features;\r\n    },\r\n    newCarData(element) {\r\n      this.listCar.push(element.data);\r\n    },\r\n    DeleteCar(id) {\r\n      axiosIns\r\n        .delete(`/car/${id}`)\r\n        .then((response) => {\r\n          for (let i = 0; i < this.listCar.length; i++) {\r\n            if (id === this.listCar[i]._id) {\r\n              this.listCar.splice(i, 1);\r\n            }\r\n          }\r\n        })\r\n        .catch(() => {\r\n          console.log(\"error\");\r\n        });\r\n    },\r\n    UpdateCar() {\r\n      console.log(\"Update\");\r\n    },\r\n    DetailCar(id) {\r\n      console.log(\"Detail\", id);\r\n      this.$router.push(`/car/${id}`);\r\n    },\r\n  },\r\n  mounted() {\r\n    // Fetch all cars\r\n    axiosIns\r\n      .get(\"/car/all\")\r\n      .then((response) => {\r\n        this.listCar = response.data;\r\n        console.log(this.listCar);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"error\");\r\n      });\r\n  },\r\n};\r\n</script>"]}]}