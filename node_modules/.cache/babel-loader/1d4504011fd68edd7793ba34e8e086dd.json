{"remainingRequest":"F:\\HANOICAR_frontend\\node_modules\\babel-loader\\lib\\index.js!F:\\HANOICAR_frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\HANOICAR_frontend\\src\\store\\index.js","dependencies":[{"path":"F:\\HANOICAR_frontend\\src\\store\\index.js","mtime":1672154572723},{"path":"F:\\HANOICAR_frontend\\babel.config.js","mtime":1672052069788},{"path":"F:\\HANOICAR_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672052217027},{"path":"F:\\HANOICAR_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1672052221302},{"path":"F:\\HANOICAR_frontend\\node_modules\\eslint-loader\\index.js","mtime":1672052216173}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOi9IQU5PSUNBUl9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwoKdmFyIF9tdXRhdGlvbnMsIF9hY3Rpb25zOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCB7IEFVVEhfUkVRVUVTVCwgQVVUSF9MT0dPVVQsIFNFQVJDSCB9IGZyb20gIi4vY29uc3RhbnRzIjsKaW1wb3J0IGF4aW9zQ29uZmlnIGZyb20gIkAvbGlicy9heGlvc0NvbmZpZyI7CmltcG9ydCBqd3REZWNvZGUgZnJvbSAiand0LWRlY29kZSI7ClZ1ZS51c2UoVnVleCk7CnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpIHx8ICIiLAogICAgcm9sZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInJvbGUiKSB8fCAiIiwKICAgIHVzZXJuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKSB8fCAiIiwKICAgIHVzZXJzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuICE9ICIiOwogICAgfSwKICAgIGdldFJvbGU6IGZ1bmN0aW9uIGdldFJvbGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnJvbGU7CiAgICB9LAogICAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VybmFtZTsKICAgIH0KICB9LAogIG11dGF0aW9uczogKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfUkVRVUVTVCwgZnVuY3Rpb24gKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS50b2tlbiA9IHBheWxvYWQudG9rZW47CiAgICBzdGF0ZS5yb2xlID0gcGF5bG9hZC5yb2xlOwogICAgc3RhdGUudXNlcm5hbWUgPSBwYXlsb2FkLnVzZXJuYW1lOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uIChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUudG9rZW4gPSBwYXlsb2FkLnRva2VuOwogICAgc3RhdGUucm9sZSA9IHBheWxvYWQucm9sZTsKICAgIHN0YXRlLnVzZXJuYW1lID0gcGF5bG9hZC51c2VybmFtZTsKICB9KSwgX211dGF0aW9ucyksCiAgYWN0aW9uczogKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9SRVFVRVNULCBmdW5jdGlvbiAoX3JlZiwgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXhpb3NDb25maWcucG9zdCgiL3VzZXIvbG9naW4iLCBwYXlsb2FkLmRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgand0RGVjb2RlKHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKS5yb2xlKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlcm5hbWUiLCBqd3REZWNvZGUocmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pLnVzZXJuYW1lKTsKICAgICAgICBjb21taXQoQVVUSF9SRVFVRVNULCB7CiAgICAgICAgICB0b2tlbjogcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4sCiAgICAgICAgICByb2xlOiBqd3REZWNvZGUocmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pLnJvbGUsCiAgICAgICAgICB1c2VybmFtZTogand0RGVjb2RlKHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKS51c2VybmFtZQogICAgICAgIH0pOwogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicm9sZSIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VybmFtZSIpOwogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uIChfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInJvbGUiKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJuYW1lIik7CiAgICAgIGNvbW1pdChBVVRIX0xPR09VVCwgewogICAgICAgIHRva2VuOiAiIiwKICAgICAgICByb2xlOiAiIiwKICAgICAgICB1c2VybmFtZTogIiIKICAgICAgfSk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0pLCBfYWN0aW9ucykKfSk7CmV4cG9ydCB7IHN0b3JlIH07"},{"version":3,"sources":["F:/HANOICAR_frontend/src/store/index.js"],"names":["Vue","Vuex","AUTH_REQUEST","AUTH_LOGOUT","SEARCH","axiosConfig","jwtDecode","use","store","Store","state","token","localStorage","getItem","role","username","users","getters","isAuthenticated","getRole","getUsername","mutations","payload","actions","commit","Promise","resolve","reject","post","data","then","response","setItem","access_token","catch","error","removeItem"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport { AUTH_REQUEST, AUTH_LOGOUT, SEARCH } from \"./constants\";\r\nimport axiosConfig from \"@/libs/axiosConfig\";\r\nimport jwtDecode from \"jwt-decode\";\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    token: localStorage.getItem(\"token\") || \"\",\r\n    role: localStorage.getItem(\"role\") || \"\",\r\n    username: localStorage.getItem(\"username\") || \"\",\r\n    users: [],\r\n  },\r\n  getters: {\r\n    isAuthenticated: (state) => state.token != \"\",\r\n    getRole: (state) => state.role,\r\n    getUsername: (state) => state.username ,\r\n  },\r\n  mutations: {\r\n    [AUTH_REQUEST]: (state, payload) => {\r\n      state.token = payload.token;\r\n      state.role = payload.role;\r\n      state.username = payload.username;\r\n    },\r\n    [AUTH_LOGOUT]: (state, payload) => {\r\n      state.token = payload.token;\r\n      state.role = payload.role;\r\n      state.username = payload.username;\r\n    },\r\n  },\r\n  actions: {\r\n    ////   login\r\n    [AUTH_REQUEST]: ({ commit }, payload) => {\r\n      return new Promise((resolve, reject) => {\r\n        axiosConfig\r\n          .post(\"/user/login\", payload.data)\r\n          .then((response) => {\r\n            localStorage.setItem(\"token\", response.data.access_token);\r\n            localStorage.setItem(\r\n              \"role\",\r\n              jwtDecode(response.data.access_token).role\r\n            );\r\n            localStorage.setItem(\r\n              \"username\",\r\n              jwtDecode(response.data.access_token).username\r\n            );\r\n            commit(AUTH_REQUEST, {\r\n              token: response.data.access_token,\r\n              role: jwtDecode(response.data.access_token).role,\r\n              username: jwtDecode(response.data.access_token).username,\r\n            });\r\n            resolve(response);\r\n          })\r\n          .catch(function (error) {\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"role\");\r\n            localStorage.removeItem(\"username\");\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n    //// logout\r\n    [AUTH_LOGOUT]: ({ commit }) => {\r\n      return new Promise((resolve) => {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"role\");\r\n        localStorage.removeItem(\"username\");\r\n        commit(AUTH_LOGOUT, { token: \"\", role: \"\", username: \"\" });\r\n        resolve();\r\n      });\r\n    },\r\n  },\r\n\r\n});\r\n\r\nexport { store };\r\n"]}]}